"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/[stake]",{

/***/ "./src/pages/walletData.js":
/*!*********************************!*\
  !*** ./src/pages/walletData.js ***!
  \*********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.a(module, async function (__webpack_handle_async_dependencies__, __webpack_async_result__) { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _token__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./token */ \"./src/pages/token.js\");\n/* harmony import */ var _nfts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./nfts */ \"./src/pages/nfts.js\");\n/* harmony import */ var _fts__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./fts */ \"./src/pages/fts.js\");\n/* harmony import */ var _tokens__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./tokens */ \"./src/pages/tokens.js\");\n/* harmony import */ var next_config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next.config */ \"./next.config.js\");\n/* harmony import */ var next_config__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_config__WEBPACK_IMPORTED_MODULE_6__);\n/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ \"./node_modules/next/dist/compiled/buffer/index.js\")[\"Buffer\"];\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_fts__WEBPACK_IMPORTED_MODULE_4__, _tokens__WEBPACK_IMPORTED_MODULE_5__]);\n([_fts__WEBPACK_IMPORTED_MODULE_4__, _tokens__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\nfunction WalletData(props) {\n    _s();\n    const [isVisibleGrid, setIsVisibleGrid] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)();\n    const [isLoading, setisLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isVisible, setIsVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [loadingInfo, setLoadingInfo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)();\n    const [stakeData, setStakeData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        stake: null,\n        tokenNumber: null,\n        projectNumber: null,\n        nfts: null,\n        fts: null\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const getTokens = async ()=>{\n            if (props.stakeAddress == null) {\n            //base\n            } else {\n                //loading icon\n                setisLoading(\"fetching\");\n                setIsVisibleGrid(false);\n                setIsVisible(true);\n                // props passed from [stake].js\n                let stakeAddress1 = props.stakeAddress;\n                let handle = \"\";\n                // check if stake is a handle\n                // then get base address then stake address from that handle\n                if (stakeAddress1.startsWith(\"$\")) {\n                    handle = stakeAddress1;\n                    let stake = await getAddressFromHandle(stakeAddress1.slice(1));\n                    if (stake != null) {\n                        stakeAddress1 = stake;\n                    } else {\n                        console.log(\"wallet error\");\n                    }\n                }\n                // used to store and retrieve wallet information in local storage\n                let stakeData = \"\";\n                //if stake data exist in storage -- get it\n                if (localStorage.getItem(stakeAddress1)) {\n                    stakeData = JSON.parse(localStorage.getItem(stakeAddress1));\n                } else {\n                    stakeData = await createStakeDataFromStakeAddress(stakeAddress1);\n                    localStorage.setItem(stakeAddress1, JSON.stringify(stakeData));\n                }\n                setStakeData(stakeData);\n                setisLoading(\"done\");\n                setIsVisible(false);\n                setIsVisibleGrid(true);\n            }\n        };\n        getTokens();\n    }, [\n        props\n    ]);\n    if (isLoading == \"fetching\") {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"loading-symbol\",\n                    style: {\n                        visibility: isVisible ? \"visible\" : \"hidden\"\n                    }\n                }, void 0, false, {\n                    fileName: \"/Users/nathan/Desktop/explorer/src/pages/walletData.js\",\n                    lineNumber: 77,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                    className: \"loading-info\",\n                    children: loadingInfo\n                }, void 0, false, {\n                    fileName: \"/Users/nathan/Desktop/explorer/src/pages/walletData.js\",\n                    lineNumber: 78,\n                    columnNumber: 7\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/nathan/Desktop/explorer/src/pages/walletData.js\",\n            lineNumber: 75,\n            columnNumber: 12\n        }, this);\n    }\n    async function createStakeDataFromStakeAddress(stake) {\n        let stakeData = \"\";\n        let assets = await getAssetsFromKoios(stakeAddress);\n        //no assets\n        if (assets.length == 0) {\n            stakeData = {\n                stake: stakeAddress,\n                tokenNumber: 0,\n                projectNumber: 0,\n                nfts: [],\n                fts: []\n            };\n        } else {\n            //assets, create new stake data\n            try {\n                let _tokens = await createTokens(assets[0].asset_list);\n                let _tokenNumber = _tokens.length;\n                let _policies = groupTokensByPolicyId(_tokens);\n                let _policyNumber = Object.keys(_policies).length;\n                let _fungObj = sortTokenFungibilities(_policies);\n                stakeData = {\n                    stake: stakeAddress,\n                    tokenNumber: _tokenNumber,\n                    projectNumber: _policyNumber,\n                    nfts: _fungObj.nfts,\n                    fts: _fungObj.fts\n                };\n            } catch (error) {\n                console.log(error);\n            }\n        }\n        return stakeData;\n    }\n    async function getStakeFromAddressKoios(address) {\n        try {\n            const req = await fetch(\"https://api.koios.rest/api/v0/address_info\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    \"_addresses\": [\n                        address\n                    ]\n                })\n            });\n            const res = await req.json();\n            return res[0].stake_address;\n        } catch (error) {\n            return null;\n        }\n    }\n    const getAddressFromHandle = async (handle)=>{\n        try {\n            let policyID = \"f0ff48bbb7bbe9d59a40f1ce90e9e9d0ff5002ec48f232b49ca0fb9a\";\n            // A blank Handle name should always be ignored.\n            if (handle.length === 0) {\n            // Handle error.\n            }\n            // Convert handleName to hex encoding.\n            let assetName = Buffer.from(handle).toString(\"hex\");\n            const data = await fetch(\"https://cardano-mainnet.blockfrost.io/api/v0/assets/\".concat(policyID).concat(assetName, \"/addresses\"), {\n                headers: {\n                    // Your Blockfrost API key\n                    project_id: \"mainnetoW61YYSiOoLSaNQ6dzTrkAG4azXVIrvh\",\n                    \"Content-Type\": \"application/json\"\n                }\n            }).then((res)=>res.json());\n            let stake = await getStakeFromAddressKoios(data[0].address);\n            return stake;\n        } catch (error) {\n            return null;\n        }\n    };\n    function sortTokenFungibilities(policies) {\n        let poly = Object.keys(policies);\n        let _nfts = [];\n        let _fts = [];\n        for (const element of poly){\n            let p = policies[element][0];\n            if (p.quantity == 1) {\n                _nfts.push(policies[element]);\n            } else {\n                _fts.push(policies[element]);\n            }\n        }\n        return {\n            nfts: _nfts,\n            fts: _fts\n        };\n    }\n    async function getAssetsFromKoios(stakeAddress1) {\n        const req = await fetch(\"https://api.koios.rest/api/v0/account_assets\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                \"_stake_addresses\": [\n                    stakeAddress1\n                ]\n            })\n        });\n        const res = await req.json();\n        return res;\n    }\n    function groupTokensByPolicyId(tokenList) {\n        const policyList = {};\n        for(const token in tokenList){\n            const policyId = tokenList[token].policy_id;\n            if (policyId in policyList) {\n                policyList[policyId].push(tokenList[token]);\n            } else {\n                policyList[policyId] = [\n                    tokenList[token]\n                ];\n            }\n        }\n        const keys = Object.keys(policyList);\n        //sort policy list by collection number\n        const values = Object.values(policyList);\n        values.sort((a, b)=>a.length - b.length).reverse();\n        const _sorted = {};\n        for(let i = 0; i < keys.length; i++){\n            _sorted[keys[i]] = values[i];\n        }\n        return _sorted;\n    }\n    async function createTokens(assets) {\n        const _tokens = [];\n        let req = await fetch(\"https://api.coingecko.com/api/v3/coins/cardano?localization=false&tickers=false&developer_data=false\");\n        let res = await req.json();\n        let adaUSD = res.market_data.current_price.usd;\n        for(let i = 0; i < assets.length; i++){\n            setLoadingInfo(\"Loading tokens: \" + i + \" of \" + assets.length);\n            let token = new _token__WEBPACK_IMPORTED_MODULE_2__[\"default\"](assets[i].asset_name, assets[i].policy_id, assets[i].quantity);\n            token.metadata = await token.getMetadata();\n            let prices = await token.getPrice();\n            if (prices != \"\") {\n                token.current = prices.current;\n                token.prices = prices;\n            } else {\n                token.prices = \"\";\n                token.current = -1;\n            }\n            if (token.metadata != null) {\n                let ipfs = token.getIpfsFromMetadata();\n                token.ipfs = ipfs;\n                _tokens.push(token);\n            }\n        }\n        let priceSorted = sortByPrice(_tokens);\n        return priceSorted;\n    }\n    function sortByPrice(list) {\n        return list.sort((a, b)=>a.current - b.current);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            visibility: isVisibleGrid ? \"visible\" : \"hidden\"\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_tokens__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n            tokens: stakeData\n        }, void 0, false, {\n            fileName: \"/Users/nathan/Desktop/explorer/src/pages/walletData.js\",\n            lineNumber: 271,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/nathan/Desktop/explorer/src/pages/walletData.js\",\n        lineNumber: 270,\n        columnNumber: 5\n    }, this);\n}\n_s(WalletData, \"YikdWWCWZ5591xTXOh1G/YmrZzU=\");\n_c = WalletData;\n/* harmony default export */ __webpack_exports__[\"default\"] = (WalletData);\nvar _c;\n$RefreshReg$(_c, \"WalletData\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TWUsUUFBUSxHQUFHLE1BQU1mLE1BQU1nQixXQUFXO1lBQ3hDLElBQUlDLFNBQVMsTUFBTWpCLE1BQU1rQixRQUFRO1lBQ2pDLElBQUdELFVBQVUsSUFBRztnQkFDZGpCLE1BQU1tQixPQUFPLEdBQUdGLE9BQU9FLE9BQU87Z0JBQzlCbkIsTUFBTWlCLE1BQU0sR0FBR0E7WUFDakIsT0FDSTtnQkFDRmpCLE1BQU1pQixNQUFNLEdBQUc7Z0JBQ2ZqQixNQUFNbUIsT0FBTyxHQUFHLENBQUM7WUFDbkIsQ0FBQztZQUVELElBQUduQixNQUFNZSxRQUFRLElBQUksSUFBSSxFQUFDO2dCQUN4QixJQUFJSyxPQUFPcEIsTUFBTXFCLG1CQUFtQjtnQkFDcENyQixNQUFNb0IsSUFBSSxHQUFHQTtnQkFDZDNELFFBQVFvQyxJQUFJLENBQUNHO1lBQ2QsQ0FBQztRQUNIO1FBQ0EsSUFBSXNCLGNBQWNDLFlBQVk5RDtRQUM5QixPQUFPNkQ7SUFFVDtJQUVBLFNBQVNDLFlBQVlDLElBQUksRUFBRTtRQUN6QixPQUFPQSxLQUFLcEIsSUFBSSxDQUFDLENBQUNDLEdBQUdDLElBQU1ELEVBQUVjLE9BQU8sR0FBR2IsRUFBRWEsT0FBTztJQUNsRDtJQUdBLHFCQUNFLDhEQUFDbEU7UUFBSUUsT0FBTztZQUFFQyxZQUFZakMsZ0JBQWdCLFlBQVksUUFBUTtRQUFDO2tCQUM3RCw0RUFBQ0osK0NBQU1BO1lBQUMwRyxRQUFVOUY7Ozs7Ozs7Ozs7O0FBR3hCO0dBelFTVjtLQUFBQTtBQTJRVCwrREFBZUEsVUFBVUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvcGFnZXMvd2FsbGV0RGF0YS5qcz9kNjk5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBUb2tlbiBmcm9tIFwiLi90b2tlblwiO1xuaW1wb3J0IE5mdHMgZnJvbSBcIi4vbmZ0c1wiO1xuaW1wb3J0IEZ0cyBmcm9tIFwiLi9mdHNcIjtcbmltcG9ydCBUb2tlbnMgZnJvbSBcIi4vdG9rZW5zXCI7XG5pbXBvcnQgeyBoZWFkZXJzIH0gZnJvbSBcIm5leHQuY29uZmlnXCI7XG5cblxuZnVuY3Rpb24gV2FsbGV0RGF0YSAocHJvcHMpIHtcbiAgY29uc3QgW2lzVmlzaWJsZUdyaWQsIHNldElzVmlzaWJsZUdyaWRdID0gdXNlU3RhdGUoKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0aXNMb2FkaW5nXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbaXNWaXNpYmxlLCBzZXRJc1Zpc2libGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ0luZm8sIHNldExvYWRpbmdJbmZvXSA9IHVzZVN0YXRlKCk7XG4gIGNvbnN0IFtzdGFrZURhdGEsIHNldFN0YWtlRGF0YV0gPSB1c2VTdGF0ZSh7c3Rha2U6IG51bGwsIHRva2VuTnVtYmVyOiBudWxsLCBwcm9qZWN0TnVtYmVyOiBudWxsLCBuZnRzOiBudWxsLCBmdHM6IG51bGx9KTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGdldFRva2VucyA9IGFzeW5jICgpID0+e1xuXG4gICAgICBpZihwcm9wcy5zdGFrZUFkZHJlc3MgPT0gbnVsbCl7XG4gICAgICAgIC8vYmFzZVxuICAgICAgfVxuICAgICAgZWxzZXtcblxuICAgICAgICAvL2xvYWRpbmcgaWNvblxuICAgICAgICBzZXRpc0xvYWRpbmcoJ2ZldGNoaW5nJyk7XG4gICAgICAgIHNldElzVmlzaWJsZUdyaWQoZmFsc2UpO1xuICAgICAgICBzZXRJc1Zpc2libGUodHJ1ZSk7XG5cbiAgICAgICAgLy8gcHJvcHMgcGFzc2VkIGZyb20gW3N0YWtlXS5qc1xuICAgICAgICBsZXQgc3Rha2VBZGRyZXNzID0gcHJvcHMuc3Rha2VBZGRyZXNzO1xuXG4gICAgICAgIGxldCBoYW5kbGUgPSAnJztcblxuICAgICAgICAvLyBjaGVjayBpZiBzdGFrZSBpcyBhIGhhbmRsZVxuICAgICAgICAvLyB0aGVuIGdldCBiYXNlIGFkZHJlc3MgdGhlbiBzdGFrZSBhZGRyZXNzIGZyb20gdGhhdCBoYW5kbGVcbiAgICAgICAgaWYoc3Rha2VBZGRyZXNzLnN0YXJ0c1dpdGgoJyQnKSl7XG4gICAgICAgICAgaGFuZGxlID0gc3Rha2VBZGRyZXNzO1xuICAgICAgICAgIGxldCBzdGFrZSA9IGF3YWl0IGdldEFkZHJlc3NGcm9tSGFuZGxlKHN0YWtlQWRkcmVzcy5zbGljZSgxKSk7XG4gICAgICAgICAgaWYoc3Rha2UgIT0gbnVsbCl7XG4gICAgICAgICAgICBzdGFrZUFkZHJlc3MgPSBzdGFrZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd3YWxsZXQgZXJyb3InKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1c2VkIHRvIHN0b3JlIGFuZCByZXRyaWV2ZSB3YWxsZXQgaW5mb3JtYXRpb24gaW4gbG9jYWwgc3RvcmFnZVxuICAgICAgICBsZXQgc3Rha2VEYXRhID0gJyc7XG5cbiAgICAgICAgLy9pZiBzdGFrZSBkYXRhIGV4aXN0IGluIHN0b3JhZ2UgLS0gZ2V0IGl0XG4gICAgICAgIGlmKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0YWtlQWRkcmVzcykpe1xuICAgICAgICAgIHN0YWtlRGF0YSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oc3Rha2VBZGRyZXNzKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvL2lmIG5vIHN0b3JlZCBkYXRhLCBjcmVhdGUgbmV3XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgc3Rha2VEYXRhID0gYXdhaXQgY3JlYXRlU3Rha2VEYXRhRnJvbVN0YWtlQWRkcmVzcyhzdGFrZUFkZHJlc3MpO1xuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHN0YWtlQWRkcmVzcywgSlNPTi5zdHJpbmdpZnkoc3Rha2VEYXRhKSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRTdGFrZURhdGEoc3Rha2VEYXRhKTtcblxuICAgICAgICBzZXRpc0xvYWRpbmcoJ2RvbmUnKTtcbiAgICAgICAgc2V0SXNWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgc2V0SXNWaXNpYmxlR3JpZCh0cnVlKTtcblxuICAgICAgfVxuXG4gICAgfVxuICAgICAgXG4gICAgZ2V0VG9rZW5zKCk7XG4gIH0sIFtwcm9wc10pO1xuXG4gIGlmKGlzTG9hZGluZyA9PSAnZmV0Y2hpbmcnKXtcbiAgICByZXR1cm4gPGRpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2FkaW5nLXN5bWJvbFwiIHN0eWxlPXt7IHZpc2liaWxpdHk6IGlzVmlzaWJsZSA/ICd2aXNpYmxlJyA6ICdoaWRkZW4nIH19PjwvZGl2PlxuICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImxvYWRpbmctaW5mb1wiPntsb2FkaW5nSW5mb308L2xhYmVsPlxuICAgIDwvZGl2PlxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gY3JlYXRlU3Rha2VEYXRhRnJvbVN0YWtlQWRkcmVzcyhzdGFrZSl7XG5cbiAgICBsZXQgc3Rha2VEYXRhID0gJyc7XG4gICAgbGV0IGFzc2V0cyA9IGF3YWl0IGdldEFzc2V0c0Zyb21Lb2lvcyhzdGFrZUFkZHJlc3MpO1xuXG4gICAgLy9ubyBhc3NldHNcbiAgICBpZihhc3NldHMubGVuZ3RoID09IDAgKXtcbiAgICAgIHN0YWtlRGF0YSA9IHtzdGFrZSA6IHN0YWtlQWRkcmVzcywgdG9rZW5OdW1iZXI6IDAsIHByb2plY3ROdW1iZXI6MCwgbmZ0czogW10sIGZ0cyA6IFtdfTtcblxuICAgIH1cbiAgICBlbHNle1xuICAgICAgLy9hc3NldHMsIGNyZWF0ZSBuZXcgc3Rha2UgZGF0YVxuICAgICAgdHJ5e1xuICAgICAgICBsZXQgX3Rva2VucyA9IGF3YWl0IGNyZWF0ZVRva2Vucyhhc3NldHNbMF0uYXNzZXRfbGlzdCk7XG4gICAgICAgIGxldCBfdG9rZW5OdW1iZXIgPSBfdG9rZW5zLmxlbmd0aDtcbiAgICAgICAgbGV0IF9wb2xpY2llcyA9IGdyb3VwVG9rZW5zQnlQb2xpY3lJZChfdG9rZW5zKTtcbiAgICAgICAgbGV0IF9wb2xpY3lOdW1iZXIgPSAoT2JqZWN0LmtleXMoX3BvbGljaWVzKS5sZW5ndGgpO1xuICAgICAgICBsZXQgX2Z1bmdPYmogPSBzb3J0VG9rZW5GdW5naWJpbGl0aWVzKF9wb2xpY2llcyk7XG5cbiAgICAgICAgc3Rha2VEYXRhID0ge3N0YWtlOiBzdGFrZUFkZHJlc3MsIHRva2VuTnVtYmVyOiBfdG9rZW5OdW1iZXIsIHByb2plY3ROdW1iZXI6IF9wb2xpY3lOdW1iZXIsIG5mdHM6IF9mdW5nT2JqLm5mdHMsIGZ0czogX2Z1bmdPYmouZnRzfTtcbiAgICAgIH1jYXRjaChlcnJvcil7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIH1cblxuICAgIH1cblxuICAgIHJldHVybiBzdGFrZURhdGE7XG5cbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGdldFN0YWtlRnJvbUFkZHJlc3NLb2lvcyhhZGRyZXNzKXtcbiAgICB0cnl7XG4gICAgICBjb25zdCByZXEgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGkua29pb3MucmVzdC9hcGkvdjAvYWRkcmVzc19pbmZvJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIFwiX2FkZHJlc3Nlc1wiOiBbIGFkZHJlc3NcbiAgICAgICAgICBdXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCByZXEuanNvbigpO1xuICAgICAgcmV0dXJuIHJlc1swXS5zdGFrZV9hZGRyZXNzO1xuICAgIH1jYXRjaChlcnJvcil7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgfVxuXG4gIGNvbnN0IGdldEFkZHJlc3NGcm9tSGFuZGxlID0gYXN5bmMgKGhhbmRsZSkgPT4ge1xuICAgIHRyeXtcbiAgICAgIGxldCBwb2xpY3lJRCA9ICdmMGZmNDhiYmI3YmJlOWQ1OWE0MGYxY2U5MGU5ZTlkMGZmNTAwMmVjNDhmMjMyYjQ5Y2EwZmI5YSc7XG4gICAgXG4gICAgICAvLyBBIGJsYW5rIEhhbmRsZSBuYW1lIHNob3VsZCBhbHdheXMgYmUgaWdub3JlZC5cbiAgICAgIGlmIChoYW5kbGUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIEhhbmRsZSBlcnJvci5cbiAgICAgIH1cbiAgICBcbiAgICAgIC8vIENvbnZlcnQgaGFuZGxlTmFtZSB0byBoZXggZW5jb2RpbmcuXG4gICAgICBsZXQgYXNzZXROYW1lID0gQnVmZmVyLmZyb20oaGFuZGxlKS50b1N0cmluZygnaGV4Jyk7XG4gICAgXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGBodHRwczovL2NhcmRhbm8tbWFpbm5ldC5ibG9ja2Zyb3N0LmlvL2FwaS92MC9hc3NldHMvJHtwb2xpY3lJRH0ke2Fzc2V0TmFtZX0vYWRkcmVzc2VzYCxcbiAgICAgICAge1xuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIC8vIFlvdXIgQmxvY2tmcm9zdCBBUEkga2V5XG4gICAgICAgICAgICBwcm9qZWN0X2lkOiAnbWFpbm5ldG9XNjFZWVNpT29MU2FOUTZkelRya0FHNGF6WFZJcnZoJyxcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICkudGhlbihyZXMgPT4gcmVzLmpzb24oKSk7XG4gICAgICBcbiAgICAgIGxldCBzdGFrZSA9IGF3YWl0IGdldFN0YWtlRnJvbUFkZHJlc3NLb2lvcyhkYXRhWzBdLmFkZHJlc3MpO1xuICAgICAgcmV0dXJuIHN0YWtlO1xuICAgIH1jYXRjaChlcnJvcil7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIHNvcnRUb2tlbkZ1bmdpYmlsaXRpZXMocG9saWNpZXMpe1xuICAgIGxldCBwb2x5ID0gT2JqZWN0LmtleXMocG9saWNpZXMpO1xuICAgIGxldCBfbmZ0cyA9IFtdO1xuICAgIGxldCBfZnRzID0gW107XG4gICAgZm9yKGNvbnN0IGVsZW1lbnQgb2YgcG9seSl7XG4gICAgICBsZXQgcCA9IHBvbGljaWVzW2VsZW1lbnRdWzBdO1xuICAgICAgaWYocC5xdWFudGl0eSA9PSAxKXtcbiAgICAgICAgX25mdHMucHVzaChwb2xpY2llc1tlbGVtZW50XSk7XG4gICAgICB9XG4gICAgICBlbHNle1xuICAgICAgICBfZnRzLnB1c2gocG9saWNpZXNbZWxlbWVudF0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge25mdHMgOiBfbmZ0cywgZnRzIDogX2Z0c307XG4gIH1cblxuXG5cbiAgYXN5bmMgZnVuY3Rpb24gZ2V0QXNzZXRzRnJvbUtvaW9zKHN0YWtlQWRkcmVzcyl7XG4gICAgY29uc3QgcmVxID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLmtvaW9zLnJlc3QvYXBpL3YwL2FjY291bnRfYXNzZXRzJywge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIFwiX3N0YWtlX2FkZHJlc3Nlc1wiOiBbXG4gICAgICAgICAgICAgIHN0YWtlQWRkcmVzc1xuICAgICAgICAgICAgXVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuXG4gICAgY29uc3QgcmVzID0gYXdhaXQgcmVxLmpzb24oKTtcbiAgICByZXR1cm4gcmVzO1xuICB9XG5cblxuICBmdW5jdGlvbiBncm91cFRva2Vuc0J5UG9saWN5SWQodG9rZW5MaXN0KXtcblxuICAgIGNvbnN0IHBvbGljeUxpc3QgPSB7fTtcbiAgICBmb3IoY29uc3QgdG9rZW4gaW4gdG9rZW5MaXN0KXtcbiAgICAgIGNvbnN0IHBvbGljeUlkID0gdG9rZW5MaXN0W3Rva2VuXS5wb2xpY3lfaWQ7XG4gICAgICBcbiAgICAgIGlmKHBvbGljeUlkIGluIHBvbGljeUxpc3Qpe1xuICAgICAgICBwb2xpY3lMaXN0W3BvbGljeUlkXS5wdXNoKHRva2VuTGlzdFt0b2tlbl0pO1xuICAgICAgfWVsc2Uge1xuICAgICAgICBwb2xpY3lMaXN0W3BvbGljeUlkXSA9IFt0b2tlbkxpc3RbdG9rZW5dXTtcbiAgICAgIH1cblxuICAgIH1cbiAgICBjb25zdCBrZXlzPSBPYmplY3Qua2V5cyhwb2xpY3lMaXN0KTtcblxuICAgIC8vc29ydCBwb2xpY3kgbGlzdCBieSBjb2xsZWN0aW9uIG51bWJlclxuICAgIGNvbnN0IHZhbHVlcyA9IE9iamVjdC52YWx1ZXMocG9saWN5TGlzdCk7XG4gICAgdmFsdWVzLnNvcnQoKGEsYikgPT4gYS5sZW5ndGggLSBiLmxlbmd0aCkucmV2ZXJzZSgpO1xuICAgIGNvbnN0IF9zb3J0ZWQgPSB7fTtcbiAgICBmb3IgKGxldCBpPTA7aTxrZXlzLmxlbmd0aDtpKyspe1xuICAgICAgX3NvcnRlZFtrZXlzW2ldXSA9IHZhbHVlcyBbaV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9zb3J0ZWQ7XG5cbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVRva2Vucyhhc3NldHMpe1xuXG5cblxuICAgIGNvbnN0IF90b2tlbnMgPSBbXTtcblxuICAgIGxldCByZXEgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGkuY29pbmdlY2tvLmNvbS9hcGkvdjMvY29pbnMvY2FyZGFubz9sb2NhbGl6YXRpb249ZmFsc2UmdGlja2Vycz1mYWxzZSZkZXZlbG9wZXJfZGF0YT1mYWxzZScpO1xuICAgIGxldCByZXMgPSBhd2FpdCByZXEuanNvbigpO1xuXG4gICAgbGV0IGFkYVVTRCA9IHJlcy5tYXJrZXRfZGF0YS5jdXJyZW50X3ByaWNlLnVzZDtcbiAgICBcblxuICAgIGZvcihsZXQgaSA9MDsgaTxhc3NldHMubGVuZ3RoO2krKyl7XG4gICAgICBzZXRMb2FkaW5nSW5mbygnTG9hZGluZyB0b2tlbnM6ICcraSArICcgb2YgJyArYXNzZXRzLmxlbmd0aClcbiAgICAgIGxldCB0b2tlbiA9IG5ldyBUb2tlbihhc3NldHNbaV0uYXNzZXRfbmFtZSwgYXNzZXRzW2ldLnBvbGljeV9pZCwgYXNzZXRzW2ldLnF1YW50aXR5KTtcbiAgICAgIHRva2VuLm1ldGFkYXRhID0gYXdhaXQgdG9rZW4uZ2V0TWV0YWRhdGEoKTtcbiAgICAgIGxldCBwcmljZXMgPSBhd2FpdCB0b2tlbi5nZXRQcmljZSgpO1xuICAgICAgaWYocHJpY2VzICE9ICcnKXtcbiAgICAgICAgdG9rZW4uY3VycmVudCA9IHByaWNlcy5jdXJyZW50O1xuICAgICAgICB0b2tlbi5wcmljZXMgPSBwcmljZXM7XG4gICAgICB9XG4gICAgICBlbHNle1xuICAgICAgICB0b2tlbi5wcmljZXMgPSAnJztcbiAgICAgICAgdG9rZW4uY3VycmVudCA9IC0xO1xuICAgICAgfVxuXG4gICAgICBpZih0b2tlbi5tZXRhZGF0YSAhPSBudWxsKXtcbiAgICAgICAgbGV0IGlwZnMgPSB0b2tlbi5nZXRJcGZzRnJvbU1ldGFkYXRhKCk7XG4gICAgICAgIHRva2VuLmlwZnMgPSBpcGZzO1xuICAgICAgIF90b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBwcmljZVNvcnRlZCA9IHNvcnRCeVByaWNlKF90b2tlbnMpO1xuICAgIHJldHVybiBwcmljZVNvcnRlZDtcblxuICB9XG5cbiAgZnVuY3Rpb24gc29ydEJ5UHJpY2UobGlzdCkge1xuICAgIHJldHVybiBsaXN0LnNvcnQoKGEsIGIpID0+IGEuY3VycmVudCAtIGIuY3VycmVudCk7XG4gIH1cblxuXG4gIHJldHVybihcbiAgICA8ZGl2IHN0eWxlPXt7IHZpc2liaWxpdHk6IGlzVmlzaWJsZUdyaWQgPyAndmlzaWJsZScgOiAnaGlkZGVuJyB9fT5cbiAgICAgIDxUb2tlbnMgdG9rZW5zID0ge3N0YWtlRGF0YX0vPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBXYWxsZXREYXRhO1xuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiVG9rZW4iLCJOZnRzIiwiRnRzIiwiVG9rZW5zIiwiaGVhZGVycyIsIldhbGxldERhdGEiLCJwcm9wcyIsImlzVmlzaWJsZUdyaWQiLCJzZXRJc1Zpc2libGVHcmlkIiwiaXNMb2FkaW5nIiwic2V0aXNMb2FkaW5nIiwiaXNWaXNpYmxlIiwic2V0SXNWaXNpYmxlIiwibG9hZGluZ0luZm8iLCJzZXRMb2FkaW5nSW5mbyIsInN0YWtlRGF0YSIsInNldFN0YWtlRGF0YSIsInN0YWtlIiwidG9rZW5OdW1iZXIiLCJwcm9qZWN0TnVtYmVyIiwibmZ0cyIsImZ0cyIsImdldFRva2VucyIsInN0YWtlQWRkcmVzcyIsImhhbmRsZSIsInN0YXJ0c1dpdGgiLCJnZXRBZGRyZXNzRnJvbUhhbmRsZSIsInNsaWNlIiwiY29uc29sZSIsImxvZyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJKU09OIiwicGFyc2UiLCJjcmVhdGVTdGFrZURhdGFGcm9tU3Rha2VBZGRyZXNzIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImRpdiIsImNsYXNzTmFtZSIsInN0eWxlIiwidmlzaWJpbGl0eSIsImxhYmVsIiwiYXNzZXRzIiwiZ2V0QXNzZXRzRnJvbUtvaW9zIiwibGVuZ3RoIiwiX3Rva2VucyIsImNyZWF0ZVRva2VucyIsImFzc2V0X2xpc3QiLCJfdG9rZW5OdW1iZXIiLCJfcG9saWNpZXMiLCJncm91cFRva2Vuc0J5UG9saWN5SWQiLCJfcG9saWN5TnVtYmVyIiwiT2JqZWN0Iiwia2V5cyIsIl9mdW5nT2JqIiwic29ydFRva2VuRnVuZ2liaWxpdGllcyIsImVycm9yIiwiZ2V0U3Rha2VGcm9tQWRkcmVzc0tvaW9zIiwiYWRkcmVzcyIsInJlcSIsImZldGNoIiwibWV0aG9kIiwiYm9keSIsInJlcyIsImpzb24iLCJzdGFrZV9hZGRyZXNzIiwicG9saWN5SUQiLCJhc3NldE5hbWUiLCJCdWZmZXIiLCJmcm9tIiwidG9TdHJpbmciLCJkYXRhIiwicHJvamVjdF9pZCIsInRoZW4iLCJwb2xpY2llcyIsInBvbHkiLCJfbmZ0cyIsIl9mdHMiLCJlbGVtZW50IiwicCIsInF1YW50aXR5IiwicHVzaCIsInRva2VuTGlzdCIsInBvbGljeUxpc3QiLCJ0b2tlbiIsInBvbGljeUlkIiwicG9saWN5X2lkIiwidmFsdWVzIiwic29ydCIsImEiLCJiIiwicmV2ZXJzZSIsIl9zb3J0ZWQiLCJpIiwiYWRhVVNEIiwibWFya2V0X2RhdGEiLCJjdXJyZW50X3ByaWNlIiwidXNkIiwiYXNzZXRfbmFtZSIsIm1ldGFkYXRhIiwiZ2V0TWV0YWRhdGEiLCJwcmljZXMiLCJnZXRQcmljZSIsImN1cnJlbnQiLCJpcGZzIiwiZ2V0SXBmc0Zyb21NZXRhZGF0YSIsInByaWNlU29ydGVkIiwic29ydEJ5UHJpY2UiLCJsaXN0IiwidG9rZW5zIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/pages/walletData.js\n"));

/***/ })

});