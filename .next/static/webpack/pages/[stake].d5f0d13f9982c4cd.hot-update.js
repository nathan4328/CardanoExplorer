"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/[stake]",{

/***/ "./src/pages/walletData.js":
/*!*********************************!*\
  !*** ./src/pages/walletData.js ***!
  \*********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.a(module, async function (__webpack_handle_async_dependencies__, __webpack_async_result__) { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _token__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./token */ \"./src/pages/token.js\");\n/* harmony import */ var _nfts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./nfts */ \"./src/pages/nfts.js\");\n/* harmony import */ var _fts__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./fts */ \"./src/pages/fts.js\");\n/* harmony import */ var _tokens__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./tokens */ \"./src/pages/tokens.js\");\n/* harmony import */ var next_config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next.config */ \"./next.config.js\");\n/* harmony import */ var next_config__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_config__WEBPACK_IMPORTED_MODULE_6__);\n/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ \"./node_modules/next/dist/compiled/buffer/index.js\")[\"Buffer\"];\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_fts__WEBPACK_IMPORTED_MODULE_4__, _tokens__WEBPACK_IMPORTED_MODULE_5__]);\n([_fts__WEBPACK_IMPORTED_MODULE_4__, _tokens__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\nfunction WalletData(props) {\n    _s();\n    const [isVisibleGrid, setIsVisibleGrid] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)();\n    const [isLoading, setisLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isVisible, setIsVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [loadingInfo, setLoadingInfo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)();\n    const [stakeData, setStakeData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        stake: null,\n        tokenNumber: null,\n        projectNumber: null,\n        nfts: null,\n        fts: null\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const getTokens = async ()=>{\n            if (props.stakeAddress == null) {\n            //base\n            } else {\n                //loading icon\n                setisLoading(\"fetching\");\n                setIsVisibleGrid(false);\n                setIsVisible(true);\n                // props passed from [stake].js\n                let stakeAddress = props.stakeAddress;\n                // check if stake is a handle\n                // then get base address then stake address from that handle\n                if (stakeAddress.startsWith(\"$\")) {\n                    let stake = await getAddressFromHandle(stakeAddress.slice(1));\n                    if (stake != null) {\n                        stakeAddress = stake;\n                    } else {\n                        console.log(\"wallet error\");\n                    }\n                }\n                // used to store and retrieve wallet information in local storage\n                let stakeData = \"\";\n                //if stake data exist in storage -- get it\n                if (localStorage.getItem(stakeAddress)) {\n                    stakeData = JSON.parse(localStorage.getItem(stakeAddress));\n                } else {\n                    stakeData = await createStakeDataFromStakeAddress(stakeAddress);\n                    localStorage.setItem(stakeAddress, JSON.stringify(stakeData));\n                }\n                // loading icon\n                setStakeData(stakeData);\n                setisLoading(\"done\");\n                setIsVisible(false);\n                setIsVisibleGrid(true);\n            }\n        };\n        getTokens();\n    }, [\n        props\n    ]);\n    async function createStakeDataFromStakeAddress(stake) {\n        let stakeData = \"\";\n        let assets = await getAssetsFromKoios(stake);\n        //no assets\n        if (assets.length == 0 || assets == null) {\n            stakeData = {\n                stake: stake,\n                tokenNumber: 0,\n                projectNumber: 0,\n                nfts: [],\n                fts: []\n            };\n        } else {\n            //assets, create new stake data\n            try {\n                let _tokens = await createTokens(assets[0].asset_list);\n                let _tokenNumber = _tokens.length;\n                let _policies = groupTokensByPolicyId(_tokens);\n                let _policyNumber = Object.keys(_policies).length;\n                let _fungObj = sortTokenFungibilities(_policies);\n                stakeData = {\n                    stake: stake,\n                    tokenNumber: _tokenNumber,\n                    projectNumber: _policyNumber,\n                    nfts: _fungObj.nfts,\n                    fts: _fungObj.fts\n                };\n            } catch (error) {\n                console.log(error);\n            }\n        }\n        return stakeData;\n    }\n    // used when fetching handle address\n    async function getStakeFromAddressKoios(address) {\n        try {\n            const req = await fetch(\"https://api.koios.rest/api/v0/address_info\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    \"_addresses\": [\n                        address\n                    ]\n                })\n            });\n            const res = await req.json();\n            return res[0].stake_address;\n        } catch (error) {\n            return null;\n        }\n    }\n    // returns base address from handle\n    const getAddressFromHandle = async (handle)=>{\n        try {\n            let policyID = \"f0ff48bbb7bbe9d59a40f1ce90e9e9d0ff5002ec48f232b49ca0fb9a\";\n            // A blank Handle name should always be ignored.\n            if (handle.length === 0) {\n            // Handle error.\n            }\n            // Convert handleName to hex encoding.\n            let assetName = Buffer.from(handle).toString(\"hex\");\n            const data = await fetch(\"https://cardano-mainnet.blockfrost.io/api/v0/assets/\".concat(policyID).concat(assetName, \"/addresses\"), {\n                headers: {\n                    // Your Blockfrost API key\n                    project_id: \"mainnetoW61YYSiOoLSaNQ6dzTrkAG4azXVIrvh\",\n                    \"Content-Type\": \"application/json\"\n                }\n            }).then((res)=>res.json());\n            let stake = await getStakeFromAddressKoios(data[0].address);\n            return stake;\n        } catch (error) {\n            return null;\n        }\n    };\n    // no asset limit on how many assets gets returned on one request\n    // koios, blockfrost is limited by 100 results per page\n    async function getAssetsFromKoios(stakeAddress) {\n        const req = await fetch(\"https://api.koios.rest/api/v0/account_assets\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                \"_stake_addresses\": [\n                    stakeAddress\n                ]\n            })\n        });\n        const res = await req.json();\n        return res;\n    }\n    function groupTokensByPolicyId(tokenList) {\n        const policyList = {};\n        for(const token in tokenList){\n            const policyId = tokenList[token].policy_id;\n            if (policyId in policyList) {\n                policyList[policyId].push(tokenList[token]);\n            } else {\n                policyList[policyId] = [\n                    tokenList[token]\n                ];\n            }\n        }\n        const keys = Object.keys(policyList);\n        //sort policy list by collection number\n        const values = Object.values(policyList);\n        values.sort((a, b)=>a.length - b.length).reverse();\n        const _sorted = {};\n        for(let i = 0; i < keys.length; i++){\n            _sorted[keys[i]] = values[i];\n        }\n        return _sorted;\n    }\n    async function createTokens(assets) {\n        const _tokens = [];\n        let req = await fetch(\"https://api.coingecko.com/api/v3/coins/cardano?localization=false&tickers=false&developer_data=false\");\n        let res = await req.json();\n        let adaUSD = res.market_data.current_price.usd;\n        for(let i = 0; i < assets.length; i++){\n            setLoadingInfo(\"Loading tokens: \" + i + \" of \" + assets.length);\n            let token = new _token__WEBPACK_IMPORTED_MODULE_2__[\"default\"](assets[i].asset_name, assets[i].policy_id, assets[i].quantity);\n            token.metadata = await token.getMetadata();\n            let prices = await token.getPrice();\n            if (prices != \"\") {\n                token.current = prices.current;\n                token.prices = prices;\n            } else {\n                token.prices = \"\";\n                token.current = -1;\n            }\n            if (token.metadata != null) {\n                let ipfs = token.getIpfsFromMetadata();\n                token.ipfs = ipfs;\n                _tokens.push(token);\n            }\n        }\n        let priceSorted = sortByPrice(_tokens);\n        return priceSorted;\n    }\n    function sortByPrice(list) {\n        return list.sort((a, b)=>a.current - b.current);\n    }\n    function sortTokenFungibilities(policies) {\n        let poly = Object.keys(policies);\n        let _nfts = [];\n        let _fts = [];\n        for (const element of poly){\n            let p = policies[element][0];\n            if (p.quantity == 1) {\n                _nfts.push(policies[element]);\n            } else {\n                _fts.push(policies[element]);\n            }\n        }\n        return {\n            nfts: _nfts,\n            fts: _fts\n        };\n    }\n    if (isLoading == \"fetching\") {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"loading-symbol\",\n                    style: {\n                        visibility: isVisible ? \"visible\" : \"hidden\"\n                    }\n                }, void 0, false, {\n                    fileName: \"/Users/nathan/Desktop/explorer/src/pages/walletData.js\",\n                    lineNumber: 263,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                    className: \"loading-info\",\n                    children: loadingInfo\n                }, void 0, false, {\n                    fileName: \"/Users/nathan/Desktop/explorer/src/pages/walletData.js\",\n                    lineNumber: 264,\n                    columnNumber: 7\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/nathan/Desktop/explorer/src/pages/walletData.js\",\n            lineNumber: 261,\n            columnNumber: 12\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            visibility: isVisibleGrid ? \"visible\" : \"hidden\"\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_tokens__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n            tokens: stakeData\n        }, void 0, false, {\n            fileName: \"/Users/nathan/Desktop/explorer/src/pages/walletData.js\",\n            lineNumber: 270,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/nathan/Desktop/explorer/src/pages/walletData.js\",\n        lineNumber: 269,\n        columnNumber: 5\n    }, this);\n}\n_s(WalletData, \"YikdWWCWZ5591xTXOh1G/YmrZzU=\");\n_c = WalletData;\n/* harmony default export */ __webpack_exports__[\"default\"] = (WalletData);\nvar _c;\n$RefreshReg$(_c, \"WalletData\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBRWMsT0FBTztJQUNsRDtJQUlBLFNBQVMzQyx1QkFBdUJpRCxRQUFRLEVBQUM7UUFDdkMsSUFBSUMsT0FBT3JELE9BQU9DLElBQUksQ0FBQ21EO1FBQ3ZCLElBQUlFLFFBQVEsRUFBRTtRQUNkLElBQUlDLE9BQU8sRUFBRTtRQUNiLEtBQUksTUFBTUMsV0FBV0gsS0FBSztZQUN4QixJQUFJSSxJQUFJTCxRQUFRLENBQUNJLFFBQVEsQ0FBQyxFQUFFO1lBQzVCLElBQUdDLEVBQUVoQixRQUFRLElBQUksR0FBRTtnQkFDakJhLE1BQU0xQixJQUFJLENBQUN3QixRQUFRLENBQUNJLFFBQVE7WUFDOUIsT0FDSTtnQkFDRkQsS0FBSzNCLElBQUksQ0FBQ3dCLFFBQVEsQ0FBQ0ksUUFBUTtZQUM3QixDQUFDO1FBQ0g7UUFDQSxPQUFPO1lBQUNsRixNQUFPZ0Y7WUFBTy9FLEtBQU1nRjtRQUFJO0lBQ2xDO0lBTUEsSUFBRzVGLGFBQWEsWUFBVztRQUN6QixxQkFBTyw4REFBQytGOzs4QkFFTiw4REFBQ0E7b0JBQUlDLFdBQVU7b0JBQWlCQyxPQUFPO3dCQUFFQyxZQUFZaEcsWUFBWSxZQUFZLFFBQVE7b0JBQUM7Ozs7Ozs4QkFDdEYsOERBQUNpRztvQkFBTUgsV0FBVTs4QkFBZ0I1Rjs7Ozs7Ozs7Ozs7O0lBRXJDLENBQUM7SUFFRCxxQkFDRSw4REFBQzJGO1FBQUlFLE9BQU87WUFBRUMsWUFBWXBHLGdCQUFnQixZQUFZLFFBQVE7UUFBQztrQkFDN0QsNEVBQUNKLCtDQUFNQTtZQUFDMEcsUUFBVTlGOzs7Ozs7Ozs7OztBQUd4QjtHQXhRU1Y7S0FBQUE7QUEwUVQsK0RBQWVBLFVBQVVBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL3BhZ2VzL3dhbGxldERhdGEuanM/ZDY5OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgVG9rZW4gZnJvbSBcIi4vdG9rZW5cIjtcbmltcG9ydCBOZnRzIGZyb20gXCIuL25mdHNcIjtcbmltcG9ydCBGdHMgZnJvbSBcIi4vZnRzXCI7XG5pbXBvcnQgVG9rZW5zIGZyb20gXCIuL3Rva2Vuc1wiO1xuaW1wb3J0IHsgaGVhZGVycyB9IGZyb20gXCJuZXh0LmNvbmZpZ1wiO1xuXG5cbmZ1bmN0aW9uIFdhbGxldERhdGEgKHByb3BzKSB7XG4gIGNvbnN0IFtpc1Zpc2libGVHcmlkLCBzZXRJc1Zpc2libGVHcmlkXSA9IHVzZVN0YXRlKCk7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldGlzTG9hZGluZ10gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2lzVmlzaWJsZSwgc2V0SXNWaXNpYmxlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdJbmZvLCBzZXRMb2FkaW5nSW5mb10gPSB1c2VTdGF0ZSgpO1xuICBjb25zdCBbc3Rha2VEYXRhLCBzZXRTdGFrZURhdGFdID0gdXNlU3RhdGUoe3N0YWtlOiBudWxsLCB0b2tlbk51bWJlcjogbnVsbCwgcHJvamVjdE51bWJlcjogbnVsbCwgbmZ0czogbnVsbCwgZnRzOiBudWxsfSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBnZXRUb2tlbnMgPSBhc3luYyAoKSA9PntcblxuICAgICAgaWYocHJvcHMuc3Rha2VBZGRyZXNzID09IG51bGwpe1xuICAgICAgICAvL2Jhc2VcbiAgICAgIH1cbiAgICAgIGVsc2V7XG5cbiAgICAgICAgLy9sb2FkaW5nIGljb25cbiAgICAgICAgc2V0aXNMb2FkaW5nKCdmZXRjaGluZycpO1xuICAgICAgICBzZXRJc1Zpc2libGVHcmlkKGZhbHNlKTtcbiAgICAgICAgc2V0SXNWaXNpYmxlKHRydWUpO1xuXG4gICAgICAgIC8vIHByb3BzIHBhc3NlZCBmcm9tIFtzdGFrZV0uanNcbiAgICAgICAgbGV0IHN0YWtlQWRkcmVzcyA9IHByb3BzLnN0YWtlQWRkcmVzcztcblxuICAgICAgICAvLyBjaGVjayBpZiBzdGFrZSBpcyBhIGhhbmRsZVxuICAgICAgICAvLyB0aGVuIGdldCBiYXNlIGFkZHJlc3MgdGhlbiBzdGFrZSBhZGRyZXNzIGZyb20gdGhhdCBoYW5kbGVcbiAgICAgICAgaWYoc3Rha2VBZGRyZXNzLnN0YXJ0c1dpdGgoJyQnKSl7XG4gICAgICAgICAgbGV0IHN0YWtlID0gYXdhaXQgZ2V0QWRkcmVzc0Zyb21IYW5kbGUoc3Rha2VBZGRyZXNzLnNsaWNlKDEpKTtcbiAgICAgICAgICBpZihzdGFrZSAhPSBudWxsKXtcbiAgICAgICAgICAgIHN0YWtlQWRkcmVzcyA9IHN0YWtlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3dhbGxldCBlcnJvcicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVzZWQgdG8gc3RvcmUgYW5kIHJldHJpZXZlIHdhbGxldCBpbmZvcm1hdGlvbiBpbiBsb2NhbCBzdG9yYWdlXG4gICAgICAgIGxldCBzdGFrZURhdGEgPSAnJztcblxuICAgICAgICAvL2lmIHN0YWtlIGRhdGEgZXhpc3QgaW4gc3RvcmFnZSAtLSBnZXQgaXRcbiAgICAgICAgaWYobG9jYWxTdG9yYWdlLmdldEl0ZW0oc3Rha2VBZGRyZXNzKSl7XG4gICAgICAgICAgc3Rha2VEYXRhID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShzdGFrZUFkZHJlc3MpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vaWYgbm8gc3RvcmVkIGRhdGEsIGNyZWF0ZSBuZXcgYW5kIHN0b3JlIGl0IHdpdGggc3Rha2UgYWRkcmVzcyBhcyBrZXlcbiAgICAgICAgZWxzZXtcbiAgICAgICAgICBzdGFrZURhdGEgPSBhd2FpdCBjcmVhdGVTdGFrZURhdGFGcm9tU3Rha2VBZGRyZXNzKHN0YWtlQWRkcmVzcyk7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oc3Rha2VBZGRyZXNzLCBKU09OLnN0cmluZ2lmeShzdGFrZURhdGEpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxvYWRpbmcgaWNvblxuICAgICAgICBzZXRTdGFrZURhdGEoc3Rha2VEYXRhKTtcbiAgICAgICAgc2V0aXNMb2FkaW5nKCdkb25lJyk7XG4gICAgICAgIHNldElzVmlzaWJsZShmYWxzZSk7XG4gICAgICAgIHNldElzVmlzaWJsZUdyaWQodHJ1ZSk7XG5cbiAgICAgIH1cbiAgICB9XG4gICAgZ2V0VG9rZW5zKCk7XG4gIH0sIFtwcm9wc10pO1xuXG5cblxuICBhc3luYyBmdW5jdGlvbiBjcmVhdGVTdGFrZURhdGFGcm9tU3Rha2VBZGRyZXNzKHN0YWtlKXtcblxuICAgIGxldCBzdGFrZURhdGEgPSAnJztcbiAgICBsZXQgYXNzZXRzID0gYXdhaXQgZ2V0QXNzZXRzRnJvbUtvaW9zKHN0YWtlKTtcblxuICAgIC8vbm8gYXNzZXRzXG4gICAgaWYoYXNzZXRzLmxlbmd0aCA9PSAwIHx8IGFzc2V0cyA9PSBudWxsKXtcbiAgICAgIHN0YWtlRGF0YSA9IHtzdGFrZSA6IHN0YWtlLCB0b2tlbk51bWJlcjogMCwgcHJvamVjdE51bWJlcjowLCBuZnRzOiBbXSwgZnRzIDogW119O1xuICAgIH1cbiAgICBlbHNle1xuICAgICAgLy9hc3NldHMsIGNyZWF0ZSBuZXcgc3Rha2UgZGF0YVxuICAgICAgdHJ5e1xuICAgICAgICBsZXQgX3Rva2VucyA9IGF3YWl0IGNyZWF0ZVRva2Vucyhhc3NldHNbMF0uYXNzZXRfbGlzdCk7XG4gICAgICAgIGxldCBfdG9rZW5OdW1iZXIgPSBfdG9rZW5zLmxlbmd0aDtcbiAgICAgICAgbGV0IF9wb2xpY2llcyA9IGdyb3VwVG9rZW5zQnlQb2xpY3lJZChfdG9rZW5zKTtcbiAgICAgICAgbGV0IF9wb2xpY3lOdW1iZXIgPSAoT2JqZWN0LmtleXMoX3BvbGljaWVzKS5sZW5ndGgpO1xuICAgICAgICBsZXQgX2Z1bmdPYmogPSBzb3J0VG9rZW5GdW5naWJpbGl0aWVzKF9wb2xpY2llcyk7XG5cbiAgICAgICAgc3Rha2VEYXRhID0ge3N0YWtlOiBzdGFrZSwgdG9rZW5OdW1iZXI6IF90b2tlbk51bWJlciwgcHJvamVjdE51bWJlcjogX3BvbGljeU51bWJlciwgbmZ0czogX2Z1bmdPYmoubmZ0cywgZnRzOiBfZnVuZ09iai5mdHN9O1xuICAgICAgfWNhdGNoKGVycm9yKXtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3Rha2VEYXRhO1xuXG4gIH1cblxuICAvLyB1c2VkIHdoZW4gZmV0Y2hpbmcgaGFuZGxlIGFkZHJlc3NcbiAgYXN5bmMgZnVuY3Rpb24gZ2V0U3Rha2VGcm9tQWRkcmVzc0tvaW9zKGFkZHJlc3Mpe1xuICAgIHRyeXtcbiAgICAgIGNvbnN0IHJlcSA9IGF3YWl0IGZldGNoKCdodHRwczovL2FwaS5rb2lvcy5yZXN0L2FwaS92MC9hZGRyZXNzX2luZm8nLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgXCJfYWRkcmVzc2VzXCI6IFsgYWRkcmVzc1xuICAgICAgICAgIF1cbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICBcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlcS5qc29uKCk7XG4gICAgICByZXR1cm4gcmVzWzBdLnN0YWtlX2FkZHJlc3M7XG4gICAgfWNhdGNoKGVycm9yKXtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICB9XG5cbiAgLy8gcmV0dXJucyBiYXNlIGFkZHJlc3MgZnJvbSBoYW5kbGVcbiAgY29uc3QgZ2V0QWRkcmVzc0Zyb21IYW5kbGUgPSBhc3luYyAoaGFuZGxlKSA9PiB7XG4gICAgdHJ5e1xuICAgICAgbGV0IHBvbGljeUlEID0gJ2YwZmY0OGJiYjdiYmU5ZDU5YTQwZjFjZTkwZTllOWQwZmY1MDAyZWM0OGYyMzJiNDljYTBmYjlhJztcbiAgICBcbiAgICAgIC8vIEEgYmxhbmsgSGFuZGxlIG5hbWUgc2hvdWxkIGFsd2F5cyBiZSBpZ25vcmVkLlxuICAgICAgaWYgKGhhbmRsZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gSGFuZGxlIGVycm9yLlxuICAgICAgfVxuICAgIFxuICAgICAgLy8gQ29udmVydCBoYW5kbGVOYW1lIHRvIGhleCBlbmNvZGluZy5cbiAgICAgIGxldCBhc3NldE5hbWUgPSBCdWZmZXIuZnJvbShoYW5kbGUpLnRvU3RyaW5nKCdoZXgnKTtcbiAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYGh0dHBzOi8vY2FyZGFuby1tYWlubmV0LmJsb2NrZnJvc3QuaW8vYXBpL3YwL2Fzc2V0cy8ke3BvbGljeUlEfSR7YXNzZXROYW1lfS9hZGRyZXNzZXNgLFxuICAgICAgICB7XG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgLy8gWW91ciBCbG9ja2Zyb3N0IEFQSSBrZXlcbiAgICAgICAgICAgIHByb2plY3RfaWQ6ICdtYWlubmV0b1c2MVlZU2lPb0xTYU5RNmR6VHJrQUc0YXpYVklydmgnLFxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKS50aGVuKHJlcyA9PiByZXMuanNvbigpKTtcbiAgICAgIFxuICAgICAgbGV0IHN0YWtlID0gYXdhaXQgZ2V0U3Rha2VGcm9tQWRkcmVzc0tvaW9zKGRhdGFbMF0uYWRkcmVzcyk7XG4gICAgICByZXR1cm4gc3Rha2U7XG4gICAgfWNhdGNoKGVycm9yKXtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICB9XG5cbiAgLy8gbm8gYXNzZXQgbGltaXQgb24gaG93IG1hbnkgYXNzZXRzIGdldHMgcmV0dXJuZWQgb24gb25lIHJlcXVlc3RcbiAgLy8ga29pb3MsIGJsb2NrZnJvc3QgaXMgbGltaXRlZCBieSAxMDAgcmVzdWx0cyBwZXIgcGFnZVxuICBhc3luYyBmdW5jdGlvbiBnZXRBc3NldHNGcm9tS29pb3Moc3Rha2VBZGRyZXNzKXtcbiAgICBjb25zdCByZXEgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGkua29pb3MucmVzdC9hcGkvdjAvYWNjb3VudF9hc3NldHMnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgXCJfc3Rha2VfYWRkcmVzc2VzXCI6IFtcbiAgICAgICAgICAgICAgc3Rha2VBZGRyZXNzXG4gICAgICAgICAgICBdXG4gICAgICAgICAgfSlcbiAgICAgICAgfSk7XG5cbiAgICBjb25zdCByZXMgPSBhd2FpdCByZXEuanNvbigpO1xuICAgIHJldHVybiByZXM7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGdyb3VwVG9rZW5zQnlQb2xpY3lJZCh0b2tlbkxpc3Qpe1xuXG4gICAgY29uc3QgcG9saWN5TGlzdCA9IHt9O1xuICAgIGZvcihjb25zdCB0b2tlbiBpbiB0b2tlbkxpc3Qpe1xuICAgICAgY29uc3QgcG9saWN5SWQgPSB0b2tlbkxpc3RbdG9rZW5dLnBvbGljeV9pZDtcbiAgICAgIFxuICAgICAgaWYocG9saWN5SWQgaW4gcG9saWN5TGlzdCl7XG4gICAgICAgIHBvbGljeUxpc3RbcG9saWN5SWRdLnB1c2godG9rZW5MaXN0W3Rva2VuXSk7XG4gICAgICB9ZWxzZSB7XG4gICAgICAgIHBvbGljeUxpc3RbcG9saWN5SWRdID0gW3Rva2VuTGlzdFt0b2tlbl1dO1xuICAgICAgfVxuXG4gICAgfVxuICAgIGNvbnN0IGtleXM9IE9iamVjdC5rZXlzKHBvbGljeUxpc3QpO1xuXG4gICAgLy9zb3J0IHBvbGljeSBsaXN0IGJ5IGNvbGxlY3Rpb24gbnVtYmVyXG4gICAgY29uc3QgdmFsdWVzID0gT2JqZWN0LnZhbHVlcyhwb2xpY3lMaXN0KTtcbiAgICB2YWx1ZXMuc29ydCgoYSxiKSA9PiBhLmxlbmd0aCAtIGIubGVuZ3RoKS5yZXZlcnNlKCk7XG4gICAgY29uc3QgX3NvcnRlZCA9IHt9O1xuICAgIGZvciAobGV0IGk9MDtpPGtleXMubGVuZ3RoO2krKyl7XG4gICAgICBfc29ydGVkW2tleXNbaV1dID0gdmFsdWVzIFtpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3NvcnRlZDtcblxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gY3JlYXRlVG9rZW5zKGFzc2V0cyl7XG5cbiAgICBjb25zdCBfdG9rZW5zID0gW107XG5cbiAgICBsZXQgcmVxID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLmNvaW5nZWNrby5jb20vYXBpL3YzL2NvaW5zL2NhcmRhbm8/bG9jYWxpemF0aW9uPWZhbHNlJnRpY2tlcnM9ZmFsc2UmZGV2ZWxvcGVyX2RhdGE9ZmFsc2UnKTtcbiAgICBsZXQgcmVzID0gYXdhaXQgcmVxLmpzb24oKTtcblxuICAgIGxldCBhZGFVU0QgPSByZXMubWFya2V0X2RhdGEuY3VycmVudF9wcmljZS51c2Q7XG4gICAgXG5cbiAgICBmb3IobGV0IGkgPTA7IGk8YXNzZXRzLmxlbmd0aDtpKyspe1xuICAgICAgc2V0TG9hZGluZ0luZm8oJ0xvYWRpbmcgdG9rZW5zOiAnK2kgKyAnIG9mICcgK2Fzc2V0cy5sZW5ndGgpXG4gICAgICBsZXQgdG9rZW4gPSBuZXcgVG9rZW4oYXNzZXRzW2ldLmFzc2V0X25hbWUsIGFzc2V0c1tpXS5wb2xpY3lfaWQsIGFzc2V0c1tpXS5xdWFudGl0eSk7XG4gICAgICB0b2tlbi5tZXRhZGF0YSA9IGF3YWl0IHRva2VuLmdldE1ldGFkYXRhKCk7XG4gICAgICBsZXQgcHJpY2VzID0gYXdhaXQgdG9rZW4uZ2V0UHJpY2UoKTtcbiAgICAgIGlmKHByaWNlcyAhPSAnJyl7XG4gICAgICAgIHRva2VuLmN1cnJlbnQgPSBwcmljZXMuY3VycmVudDtcbiAgICAgICAgdG9rZW4ucHJpY2VzID0gcHJpY2VzO1xuICAgICAgfVxuICAgICAgZWxzZXtcbiAgICAgICAgdG9rZW4ucHJpY2VzID0gJyc7XG4gICAgICAgIHRva2VuLmN1cnJlbnQgPSAtMTtcbiAgICAgIH1cblxuICAgICAgaWYodG9rZW4ubWV0YWRhdGEgIT0gbnVsbCl7XG4gICAgICAgIGxldCBpcGZzID0gdG9rZW4uZ2V0SXBmc0Zyb21NZXRhZGF0YSgpO1xuICAgICAgICB0b2tlbi5pcGZzID0gaXBmcztcbiAgICAgICBfdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgcHJpY2VTb3J0ZWQgPSBzb3J0QnlQcmljZShfdG9rZW5zKTtcbiAgICByZXR1cm4gcHJpY2VTb3J0ZWQ7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIHNvcnRCeVByaWNlKGxpc3QpIHtcbiAgICByZXR1cm4gbGlzdC5zb3J0KChhLCBiKSA9PiBhLmN1cnJlbnQgLSBiLmN1cnJlbnQpO1xuICB9XG5cblxuXG4gIGZ1bmN0aW9uIHNvcnRUb2tlbkZ1bmdpYmlsaXRpZXMocG9saWNpZXMpe1xuICAgIGxldCBwb2x5ID0gT2JqZWN0LmtleXMocG9saWNpZXMpO1xuICAgIGxldCBfbmZ0cyA9IFtdO1xuICAgIGxldCBfZnRzID0gW107XG4gICAgZm9yKGNvbnN0IGVsZW1lbnQgb2YgcG9seSl7XG4gICAgICBsZXQgcCA9IHBvbGljaWVzW2VsZW1lbnRdWzBdO1xuICAgICAgaWYocC5xdWFudGl0eSA9PSAxKXtcbiAgICAgICAgX25mdHMucHVzaChwb2xpY2llc1tlbGVtZW50XSk7XG4gICAgICB9XG4gICAgICBlbHNle1xuICAgICAgICBfZnRzLnB1c2gocG9saWNpZXNbZWxlbWVudF0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge25mdHMgOiBfbmZ0cywgZnRzIDogX2Z0c307XG4gIH1cblxuXG5cblxuXG4gIGlmKGlzTG9hZGluZyA9PSAnZmV0Y2hpbmcnKXtcbiAgICByZXR1cm4gPGRpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2FkaW5nLXN5bWJvbFwiIHN0eWxlPXt7IHZpc2liaWxpdHk6IGlzVmlzaWJsZSA/ICd2aXNpYmxlJyA6ICdoaWRkZW4nIH19PjwvZGl2PlxuICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImxvYWRpbmctaW5mb1wiPntsb2FkaW5nSW5mb308L2xhYmVsPlxuICAgIDwvZGl2PlxuICB9XG5cbiAgcmV0dXJuKFxuICAgIDxkaXYgc3R5bGU9e3sgdmlzaWJpbGl0eTogaXNWaXNpYmxlR3JpZCA/ICd2aXNpYmxlJyA6ICdoaWRkZW4nIH19PlxuICAgICAgPFRva2VucyB0b2tlbnMgPSB7c3Rha2VEYXRhfS8+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFdhbGxldERhdGE7XG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJUb2tlbiIsIk5mdHMiLCJGdHMiLCJUb2tlbnMiLCJoZWFkZXJzIiwiV2FsbGV0RGF0YSIsInByb3BzIiwiaXNWaXNpYmxlR3JpZCIsInNldElzVmlzaWJsZUdyaWQiLCJpc0xvYWRpbmciLCJzZXRpc0xvYWRpbmciLCJpc1Zpc2libGUiLCJzZXRJc1Zpc2libGUiLCJsb2FkaW5nSW5mbyIsInNldExvYWRpbmdJbmZvIiwic3Rha2VEYXRhIiwic2V0U3Rha2VEYXRhIiwic3Rha2UiLCJ0b2tlbk51bWJlciIsInByb2plY3ROdW1iZXIiLCJuZnRzIiwiZnRzIiwiZ2V0VG9rZW5zIiwic3Rha2VBZGRyZXNzIiwic3RhcnRzV2l0aCIsImdldEFkZHJlc3NGcm9tSGFuZGxlIiwic2xpY2UiLCJjb25zb2xlIiwibG9nIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIkpTT04iLCJwYXJzZSIsImNyZWF0ZVN0YWtlRGF0YUZyb21TdGFrZUFkZHJlc3MiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwiYXNzZXRzIiwiZ2V0QXNzZXRzRnJvbUtvaW9zIiwibGVuZ3RoIiwiX3Rva2VucyIsImNyZWF0ZVRva2VucyIsImFzc2V0X2xpc3QiLCJfdG9rZW5OdW1iZXIiLCJfcG9saWNpZXMiLCJncm91cFRva2Vuc0J5UG9saWN5SWQiLCJfcG9saWN5TnVtYmVyIiwiT2JqZWN0Iiwia2V5cyIsIl9mdW5nT2JqIiwic29ydFRva2VuRnVuZ2liaWxpdGllcyIsImVycm9yIiwiZ2V0U3Rha2VGcm9tQWRkcmVzc0tvaW9zIiwiYWRkcmVzcyIsInJlcSIsImZldGNoIiwibWV0aG9kIiwiYm9keSIsInJlcyIsImpzb24iLCJzdGFrZV9hZGRyZXNzIiwiaGFuZGxlIiwicG9saWN5SUQiLCJhc3NldE5hbWUiLCJCdWZmZXIiLCJmcm9tIiwidG9TdHJpbmciLCJkYXRhIiwicHJvamVjdF9pZCIsInRoZW4iLCJ0b2tlbkxpc3QiLCJwb2xpY3lMaXN0IiwidG9rZW4iLCJwb2xpY3lJZCIsInBvbGljeV9pZCIsInB1c2giLCJ2YWx1ZXMiLCJzb3J0IiwiYSIsImIiLCJyZXZlcnNlIiwiX3NvcnRlZCIsImkiLCJhZGFVU0QiLCJtYXJrZXRfZGF0YSIsImN1cnJlbnRfcHJpY2UiLCJ1c2QiLCJhc3NldF9uYW1lIiwicXVhbnRpdHkiLCJtZXRhZGF0YSIsImdldE1ldGFkYXRhIiwicHJpY2VzIiwiZ2V0UHJpY2UiLCJjdXJyZW50IiwiaXBmcyIsImdldElwZnNGcm9tTWV0YWRhdGEiLCJwcmljZVNvcnRlZCIsInNvcnRCeVByaWNlIiwibGlzdCIsInBvbGljaWVzIiwicG9seSIsIl9uZnRzIiwiX2Z0cyIsImVsZW1lbnQiLCJwIiwiZGl2IiwiY2xhc3NOYW1lIiwic3R5bGUiLCJ2aXNpYmlsaXR5IiwibGFiZWwiLCJ0b2tlbnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/pages/walletData.js\n"));

/***/ })

});