"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/token";
exports.ids = ["pages/token"];
exports.modules = {

/***/ "./src/pages/token.js":
/*!****************************!*\
  !*** ./src/pages/token.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Token)\n/* harmony export */ });\nclass Token {\n    constructor(asset_name, policy_id, quantity){\n        this.asset_name = asset_name;\n        this.policy_id = policy_id;\n        this.quantity = quantity;\n    }\n    async getPrice() {\n        let request = await fetch(\"/coin-gecko.json\");\n        let geckoData = await request.json();\n        let ticker = \"\";\n        try {\n            ticker = this.metadata.ticker;\n        } catch (error) {\n            ticker = null;\n        }\n        if (ticker != null) {\n            let foundGeckoCoin = geckoData.find((item)=>item.symbol == ticker.toLowerCase());\n            if (foundGeckoCoin != null) {\n                this.id = foundGeckoCoin.id;\n            } else {\n                this.id = null;\n            }\n        }\n        if (this.id != null) {\n            let req = await fetch(\"https://api.coingecko.com/api/v3/coins/\" + this.id);\n            let res = await req.json();\n            if (res.asset_platform_id == \"cardano\") {\n                this.price = res.market_data.current_price.usd.toFixed(2);\n            }\n        } else {\n            this.price = null;\n        }\n        return this.price;\n    }\n    async getMetadata() {\n        try {\n            const data = await fetch(\"https://cardano-mainnet.blockfrost.io/api/v0/assets/\" + this.policy_id + this.asset_name, {\n                headers: {\n                    project_id: \"mainnetoW61YYSiOoLSaNQ6dzTrkAG4azXVIrvh\"\n                }\n            });\n            this.metadata = await data.json();\n            if (this.metadata.metadata != null) {\n                return this.metadata.metadata;\n            } else if (this.metadata.onchain_metadata != null) {\n                return this.metadata.onchain_metadata;\n            } else {\n                return null;\n            }\n        } catch (error) {\n            return null;\n        }\n    }\n    getIpfsFromMetadata() {\n        const keys = Object.keys(this.metadata);\n        const values = Object.values(this.metadata);\n        let ipfs = \"\";\n        for(let i = 0; i < keys.length; i++){\n            if (keys[i] == \"image\") {\n                ipfs = values[i];\n            }\n            if (keys[i] == \"logo\") {\n                ipfs = \"data:image/png;base64,\" + values[i];\n            }\n        }\n        try {\n            if (Array.isArray(ipfs)) {\n                let newipfs = \"\";\n                for (const element of ipfs){\n                    newipfs = newipfs + element;\n                }\n                if (newipfs.startsWith(\"ba\")) {\n                    newipfs = \"http://dweb.link/ipfs/\" + ipfs;\n                    newipfs = newipfs.replace(/,/g, \"\");\n                }\n                return newipfs;\n            }\n            if (ipfs.startsWith(\"ipfs://\")) {\n                ipfs = ipfs.slice(7);\n                if (ipfs.startsWith(\"ipfs/\")) {\n                    ipfs = ipfs.slice(5);\n                }\n                ipfs = \"http://dweb.link/ipfs/\" + ipfs;\n            } else if (ipfs.startsWith(\"ipfs/\")) {\n                ipfs = ipfs.slice(5);\n                ipfs = \"http://dweb.link/ipfs/\" + ipfs;\n            } else if (ipfs.startsWith(\"Qm\")) {\n                ipfs = \"http://dweb.link/ipfs/\" + ipfs;\n            }\n        } catch  {\n            return null;\n        }\n        return ipfs;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFnZXMvdG9rZW4uanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFlLE1BQU1BO0lBRWpCQyxZQUFZQyxVQUFVLEVBQUVDLFNBQVMsRUFBRUMsUUFBUSxDQUFDO1FBQ3hDLElBQUksQ0FBQ0YsVUFBVSxHQUFHQTtRQUNsQixJQUFJLENBQUNDLFNBQVMsR0FBR0E7UUFDakIsSUFBSSxDQUFDQyxRQUFRLEdBQUdBO0lBQ3BCO0lBRUEsTUFBTUMsV0FBVTtRQUVkLElBQUlDLFVBQVUsTUFBTUMsTUFBTTtRQUMxQixJQUFJQyxZQUFZLE1BQU1GLFFBQVFHLElBQUk7UUFDbEMsSUFBSUMsU0FBUztRQUViLElBQUc7WUFDREEsU0FBUyxJQUFJLENBQUNDLFFBQVEsQ0FBQ0QsTUFBTTtRQUMvQixFQUFDLE9BQU1FLE9BQU07WUFDWEYsU0FBUyxJQUFJO1FBQ2Y7UUFFQSxJQUFHQSxVQUFVLElBQUksRUFBQztZQUNoQixJQUFJRyxpQkFBa0JMLFVBQVVNLElBQUksQ0FBQ0MsQ0FBQUEsT0FBUUEsS0FBS0MsTUFBTSxJQUFJTixPQUFPTyxXQUFXO1lBQzlFLElBQUdKLGtCQUFrQixJQUFJLEVBQUM7Z0JBQ3hCLElBQUksQ0FBQ0ssRUFBRSxHQUFHTCxlQUFlSyxFQUFFO1lBQzdCLE9BQ0k7Z0JBQ0YsSUFBSSxDQUFDQSxFQUFFLEdBQUcsSUFBSTtZQUNoQixDQUFDO1FBQ0gsQ0FBQztRQUNELElBQUcsSUFBSSxDQUFDQSxFQUFFLElBQUksSUFBSSxFQUFDO1lBQ2pCLElBQUlDLE1BQU0sTUFBTVosTUFBTSw0Q0FBMEMsSUFBSSxDQUFDVyxFQUFFO1lBQ3ZFLElBQUlFLE1BQU0sTUFBTUQsSUFBSVYsSUFBSTtZQUV4QixJQUFHVyxJQUFJQyxpQkFBaUIsSUFBSSxXQUFVO2dCQUNwQyxJQUFJLENBQUNDLEtBQUssR0FBR0YsSUFBSUcsV0FBVyxDQUFDQyxhQUFhLENBQUNDLEdBQUcsQ0FBQ0MsT0FBTyxDQUFDO1lBQ3pELENBQUM7UUFDSCxPQUNJO1lBQ0YsSUFBSSxDQUFDSixLQUFLLEdBQUcsSUFBSTtRQUNuQixDQUFDO1FBRUQsT0FBTyxJQUFJLENBQUNBLEtBQUs7SUFDbkI7SUFFQSxNQUFNSyxjQUFhO1FBQ2pCLElBQUc7WUFDRCxNQUFNQyxPQUFPLE1BQU1yQixNQUFNLHlEQUF1RCxJQUFJLENBQUNKLFNBQVMsR0FBQyxJQUFJLENBQUNELFVBQVUsRUFDOUc7Z0JBQUMyQixTQUFRO29CQUFDQyxZQUFZO2dCQUF5QztZQUFDO1lBR2hFLElBQUksQ0FBQ25CLFFBQVEsR0FBRyxNQUFNaUIsS0FBS25CLElBQUk7WUFDL0IsSUFBRyxJQUFJLENBQUNFLFFBQVEsQ0FBQ0EsUUFBUSxJQUFJLElBQUksRUFBQztnQkFDaEMsT0FBTyxJQUFJLENBQUNBLFFBQVEsQ0FBQ0EsUUFBUTtZQUMvQixPQUNLLElBQUcsSUFBSSxDQUFDQSxRQUFRLENBQUNvQixnQkFBZ0IsSUFBSSxJQUFJLEVBQUM7Z0JBQzdDLE9BQU8sSUFBSSxDQUFDcEIsUUFBUSxDQUFDb0IsZ0JBQWdCO1lBQ3ZDLE9BQ0k7Z0JBQ0YsT0FBTyxJQUFJO1lBQ2IsQ0FBQztRQUNILEVBQUMsT0FBTW5CLE9BQU07WUFDWCxPQUFPLElBQUk7UUFDYjtJQUVGO0lBRUFvQixzQkFBcUI7UUFDbkIsTUFBTUMsT0FBT0MsT0FBT0QsSUFBSSxDQUFDLElBQUksQ0FBQ3RCLFFBQVE7UUFDdEMsTUFBTXdCLFNBQVNELE9BQU9DLE1BQU0sQ0FBQyxJQUFJLENBQUN4QixRQUFRO1FBQzFDLElBQUl5QixPQUFPO1FBQ1gsSUFBSSxJQUFJQyxJQUFFLEdBQUVBLElBQUVKLEtBQUtLLE1BQU0sRUFBQ0QsSUFBSTtZQUc1QixJQUFHSixJQUFJLENBQUNJLEVBQUUsSUFBSSxTQUFRO2dCQUNwQkQsT0FBT0QsTUFBTSxDQUFDRSxFQUFFO1lBQ2xCLENBQUM7WUFFRCxJQUFHSixJQUFJLENBQUNJLEVBQUUsSUFBSSxRQUFPO2dCQUNuQkQsT0FBTywyQkFBeUJELE1BQU0sQ0FBQ0UsRUFBRTtZQUMzQyxDQUFDO1FBQ0g7UUFDQSxJQUFHO1lBQ0QsSUFBR0UsTUFBTUMsT0FBTyxDQUFDSixPQUFNO2dCQUNyQixJQUFJSyxVQUFVO2dCQUNkLEtBQUksTUFBTUMsV0FBV04sS0FBSztvQkFDeEJLLFVBQVVBLFVBQVVDO2dCQUN0QjtnQkFDQSxJQUFHRCxRQUFRRSxVQUFVLENBQUMsT0FBTTtvQkFDMUJGLFVBQVUsMkJBQXlCTDtvQkFDbkNLLFVBQVVBLFFBQVFHLE9BQU8sQ0FBQyxNQUFNO2dCQUNsQyxDQUFDO2dCQUNELE9BQU9IO1lBQ1QsQ0FBQztZQUNELElBQUdMLEtBQUtPLFVBQVUsQ0FBQyxZQUFXO2dCQUM1QlAsT0FBT0EsS0FBS1MsS0FBSyxDQUFDO2dCQUNsQixJQUFHVCxLQUFLTyxVQUFVLENBQUMsVUFBUztvQkFDMUJQLE9BQU9BLEtBQUtTLEtBQUssQ0FBQztnQkFDcEIsQ0FBQztnQkFDRFQsT0FBTywyQkFBeUJBO1lBQ2xDLE9BQ0ssSUFBR0EsS0FBS08sVUFBVSxDQUFDLFVBQVM7Z0JBQy9CUCxPQUFPQSxLQUFLUyxLQUFLLENBQUM7Z0JBQ2xCVCxPQUFPLDJCQUF5QkE7WUFDbEMsT0FDSyxJQUFHQSxLQUFLTyxVQUFVLENBQUMsT0FBTTtnQkFDNUJQLE9BQU8sMkJBQXlCQTtZQUNsQyxDQUFDO1FBQ0gsRUFBQyxPQUFLO1lBQ0osT0FBTyxJQUFJO1FBQ2I7UUFDQSxPQUFPQTtJQUVUO0FBQ0osQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2V4cGxvcmVyLy4vc3JjL3BhZ2VzL3Rva2VuLmpzP2MyNDMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVG9rZW57XG5cbiAgICBjb25zdHJ1Y3Rvcihhc3NldF9uYW1lLCBwb2xpY3lfaWQsIHF1YW50aXR5KXtcbiAgICAgICAgdGhpcy5hc3NldF9uYW1lID0gYXNzZXRfbmFtZTtcbiAgICAgICAgdGhpcy5wb2xpY3lfaWQgPSBwb2xpY3lfaWQ7XG4gICAgICAgIHRoaXMucXVhbnRpdHkgPSBxdWFudGl0eTsgXG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0UHJpY2UoKXtcblxuICAgICAgbGV0IHJlcXVlc3QgPSBhd2FpdCBmZXRjaCgnL2NvaW4tZ2Vja28uanNvbicpO1xuICAgICAgbGV0IGdlY2tvRGF0YSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgICAgbGV0IHRpY2tlciA9ICcnO1xuXG4gICAgICB0cnl7XG4gICAgICAgIHRpY2tlciA9IHRoaXMubWV0YWRhdGEudGlja2VyO1xuICAgICAgfWNhdGNoKGVycm9yKXtcbiAgICAgICAgdGlja2VyID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYodGlja2VyICE9IG51bGwpe1xuICAgICAgICBsZXQgZm91bmRHZWNrb0NvaW4gID0gZ2Vja29EYXRhLmZpbmQoaXRlbSA9PiBpdGVtLnN5bWJvbCA9PSB0aWNrZXIudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIGlmKGZvdW5kR2Vja29Db2luICE9IG51bGwpe1xuICAgICAgICAgIHRoaXMuaWQgPSBmb3VuZEdlY2tvQ29pbi5pZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgIHRoaXMuaWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZih0aGlzLmlkICE9IG51bGwpe1xuICAgICAgICBsZXQgcmVxID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLmNvaW5nZWNrby5jb20vYXBpL3YzL2NvaW5zLycrdGhpcy5pZCk7XG4gICAgICAgIGxldCByZXMgPSBhd2FpdCByZXEuanNvbigpO1xuICAgICAgICBcbiAgICAgICAgaWYocmVzLmFzc2V0X3BsYXRmb3JtX2lkID09ICdjYXJkYW5vJyl7XG4gICAgICAgICAgdGhpcy5wcmljZSA9IHJlcy5tYXJrZXRfZGF0YS5jdXJyZW50X3ByaWNlLnVzZC50b0ZpeGVkKDIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNle1xuICAgICAgICB0aGlzLnByaWNlID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucHJpY2U7XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0TWV0YWRhdGEoKXtcbiAgICAgIHRyeXtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGZldGNoKCdodHRwczovL2NhcmRhbm8tbWFpbm5ldC5ibG9ja2Zyb3N0LmlvL2FwaS92MC9hc3NldHMvJyt0aGlzLnBvbGljeV9pZCt0aGlzLmFzc2V0X25hbWUsXG4gICAgICAgIHtoZWFkZXJzOntwcm9qZWN0X2lkOiAnbWFpbm5ldG9XNjFZWVNpT29MU2FOUTZkelRya0FHNGF6WFZJcnZoJ319KTtcblxuXG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBhd2FpdCBkYXRhLmpzb24oKTtcbiAgICAgICAgaWYodGhpcy5tZXRhZGF0YS5tZXRhZGF0YSAhPSBudWxsKXtcbiAgICAgICAgICByZXR1cm4gdGhpcy5tZXRhZGF0YS5tZXRhZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKHRoaXMubWV0YWRhdGEub25jaGFpbl9tZXRhZGF0YSAhPSBudWxsKXtcbiAgICAgICAgICByZXR1cm4gdGhpcy5tZXRhZGF0YS5vbmNoYWluX21ldGFkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1jYXRjaChlcnJvcil7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgICBcbiAgICB9XG5cbiAgICBnZXRJcGZzRnJvbU1ldGFkYXRhKCl7XG4gICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGhpcy5tZXRhZGF0YSk7XG4gICAgICBjb25zdCB2YWx1ZXMgPSBPYmplY3QudmFsdWVzKHRoaXMubWV0YWRhdGEpO1xuICAgICAgbGV0IGlwZnMgPSBcIlwiO1xuICAgICAgZm9yKGxldCBpPTA7aTxrZXlzLmxlbmd0aDtpKyspe1xuXG5cbiAgICAgICAgaWYoa2V5c1tpXSA9PSBcImltYWdlXCIpe1xuICAgICAgICAgIGlwZnMgPSB2YWx1ZXNbaV07XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgaWYoa2V5c1tpXSA9PSBcImxvZ29cIil7XG4gICAgICAgICAgaXBmcyA9IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LFwiK3ZhbHVlc1tpXVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0cnl7XG4gICAgICAgIGlmKEFycmF5LmlzQXJyYXkoaXBmcykpe1xuICAgICAgICAgIGxldCBuZXdpcGZzID0gXCJcIjtcbiAgICAgICAgICBmb3IoY29uc3QgZWxlbWVudCBvZiBpcGZzKXtcbiAgICAgICAgICAgIG5ld2lwZnMgPSBuZXdpcGZzICsgZWxlbWVudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYobmV3aXBmcy5zdGFydHNXaXRoKCdiYScpKXtcbiAgICAgICAgICAgIG5ld2lwZnMgPSBcImh0dHA6Ly9kd2ViLmxpbmsvaXBmcy9cIitpcGZzO1xuICAgICAgICAgICAgbmV3aXBmcyA9IG5ld2lwZnMucmVwbGFjZSgvLC9nLCAnJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBuZXdpcGZzO1xuICAgICAgICB9XG4gICAgICAgIGlmKGlwZnMuc3RhcnRzV2l0aCgnaXBmczovLycpKXtcbiAgICAgICAgICBpcGZzID0gaXBmcy5zbGljZSg3KTtcbiAgICAgICAgICBpZihpcGZzLnN0YXJ0c1dpdGgoJ2lwZnMvJykpe1xuICAgICAgICAgICAgaXBmcyA9IGlwZnMuc2xpY2UoNSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlwZnMgPSBcImh0dHA6Ly9kd2ViLmxpbmsvaXBmcy9cIitpcGZzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYoaXBmcy5zdGFydHNXaXRoKCdpcGZzLycpKXtcbiAgICAgICAgICBpcGZzID0gaXBmcy5zbGljZSg1KTtcbiAgICAgICAgICBpcGZzID0gXCJodHRwOi8vZHdlYi5saW5rL2lwZnMvXCIraXBmcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKGlwZnMuc3RhcnRzV2l0aCgnUW0nKSl7XG4gICAgICAgICAgaXBmcyA9IFwiaHR0cDovL2R3ZWIubGluay9pcGZzL1wiK2lwZnM7XG4gICAgICAgIH1cbiAgICAgIH1jYXRjaHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXBmcztcbiAgICBcbiAgICB9XG59XG5cblxuXG4iXSwibmFtZXMiOlsiVG9rZW4iLCJjb25zdHJ1Y3RvciIsImFzc2V0X25hbWUiLCJwb2xpY3lfaWQiLCJxdWFudGl0eSIsImdldFByaWNlIiwicmVxdWVzdCIsImZldGNoIiwiZ2Vja29EYXRhIiwianNvbiIsInRpY2tlciIsIm1ldGFkYXRhIiwiZXJyb3IiLCJmb3VuZEdlY2tvQ29pbiIsImZpbmQiLCJpdGVtIiwic3ltYm9sIiwidG9Mb3dlckNhc2UiLCJpZCIsInJlcSIsInJlcyIsImFzc2V0X3BsYXRmb3JtX2lkIiwicHJpY2UiLCJtYXJrZXRfZGF0YSIsImN1cnJlbnRfcHJpY2UiLCJ1c2QiLCJ0b0ZpeGVkIiwiZ2V0TWV0YWRhdGEiLCJkYXRhIiwiaGVhZGVycyIsInByb2plY3RfaWQiLCJvbmNoYWluX21ldGFkYXRhIiwiZ2V0SXBmc0Zyb21NZXRhZGF0YSIsImtleXMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJpcGZzIiwiaSIsImxlbmd0aCIsIkFycmF5IiwiaXNBcnJheSIsIm5ld2lwZnMiLCJlbGVtZW50Iiwic3RhcnRzV2l0aCIsInJlcGxhY2UiLCJzbGljZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/pages/token.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("./src/pages/token.js"));
module.exports = __webpack_exports__;

})();